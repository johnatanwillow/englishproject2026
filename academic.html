<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 8: The Grammar Battle - Prof. Willow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap');
        :root { --goias-green: #006b3f; --goias-gold: #ffcc00; }
        body { font-family: 'Outfit', sans-serif; background-color: #f8fafc; font-size: 1.25rem; }
        
        .heavy-btn {
            border: 4px solid #1e293b;
            box-shadow: 8px 8px 0px #1e293b;
            transition: all 0.1s ease;
        }
        .heavy-btn:active { transform: translate(4px, 4px); box-shadow: 2px 2px 0px #1e293b; }
        
        .letter-slot {
            border-bottom: 4px solid #ffffff; /* Linha branca */
            width: 3rem; 
            height: 3.5rem;
            display: flex; 
            align-items: center; 
            justify-content: center;
            font-size: 2rem; 
            font-weight: 900;
            color: #ffffff; /* Cor da letra revelada em branco */
        }
        .grammar-card {
            border: 3px solid #1e293b;
            box-shadow: 5px 5px 0px #1e293b;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <a href="index.html" style="position:fixed; top:10px; left:10px; background:#1e293b; color:white; padding:10px; border-radius:5px; text-decoration:none; z-index:1000; font-size:12px;">⬅ Voltar ao Menu</a>

    <header class="bg-slate-900 text-white p-4 border-b-8 border-yellow-400 shadow-xl fixed top-0 w-full z-50">
        <div class="container mx-auto flex flex-col lg:flex-row justify-between items-center gap-4">
            <div class="text-center lg:text-left">
                <h1 class="text-xl font-black uppercase italic">LESSON: QUANTIFIERS</h1>
                <p class="text-[10px] text-yellow-400 font-bold tracking-widest uppercase">Prof. Johnatan Willow | CEPI Irmã Gabriela</p>
            </div>

            <div class="flex bg-slate-800 p-1 rounded-xl border border-white/10">
                <button onclick="changeTab('warmup')" id="tab-warmup" class="px-6 py-2 rounded-lg font-black uppercase text-xs transition-all bg-emerald-600 text-white">1. Warmup</button>
                <button onclick="changeTab('battle')" id="tab-battle" class="px-6 py-2 rounded-lg font-black uppercase text-xs transition-all opacity-30 hover:opacity-100">2. The Battle</button>
            </div>

            <div class="w-full md:w-64 bg-slate-800 p-2 rounded-xl border border-white/10">
                <div class="flex justify-between text-[10px] font-black mb-1 px-1">
                    <span>XP DO CONHECIMENTO</span>
                    <span id="xp-val">0 / 100</span>
                </div>
                <div class="w-full bg-slate-700 h-3 rounded-full overflow-hidden border border-slate-600">
                    <div id="xp-bar" class="bg-emerald-500 h-full w-0 transition-all duration-500"></div>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-6 mt-40 lg:mt-32 mb-12 flex-grow">
        
        <section id="grammar-base" class="max-w-4xl mx-auto mb-12">
            <div class="bg-emerald-50 border-4 border-emerald-900 p-6 rounded-[30px] relative overflow-hidden">
                <div class="absolute top-[-10px] right-[-10px] opacity-10 text-8xl rotate-12">
                    <i class="fas fa-brain"></i>
                </div>
                <h2 class="text-2xl font-black uppercase mb-6 flex items-center gap-3">
                    <i class="fas fa-shield-halved text-emerald-700"></i> Base de Inteligência: O Segredo dos Substantivos
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="grammar-card bg-white p-4 rounded-2xl">
                        <h4 class="font-black text-blue-600 uppercase mb-2"><i class="fas fa-apple-alt mr-2"></i>Contáveis (Countable)</h4>
                        <ul class="text-sm space-y-2 font-bold text-slate-600">
                            <li class="flex items-start gap-2"><i class="fas fa-check text-emerald-500 mt-1"></i> Coisas que podemos contar um a um.</li>
                            <li class="flex items-start gap-2"><i class="fas fa-check text-emerald-500 mt-1"></i> Têm forma plural (ex: Cat -> Cats).</li>
                            <li class="flex items-start gap-2"><i class="fas fa-check text-emerald-500 mt-1"></i> Usam "Many" e "Few".</li>
                        </ul>
                    </div>
                    <div class="grammar-card bg-white p-4 rounded-2xl">
                        <h4 class="font-black text-amber-600 uppercase mb-2"><i class="fas fa-tint mr-2"></i>Incontáveis (Uncountable)</h4>
                        <ul class="text-sm space-y-2 font-bold text-slate-600">
                            <li class="flex items-start gap-2"><i class="fas fa-times text-red-500 mt-1"></i> Líquidos, massas, grãos e ideias abstratas.</li>
                            <li class="flex items-start gap-2"><i class="fas fa-times text-red-500 mt-1"></i> NÃO têm plural (ex: Water -> Waters ❌).</li>
                            <li class="flex items-start gap-2"><i class="fas fa-times text-red-500 mt-1"></i> Usam "Much" e "Little".</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="max-w-4xl mx-auto mb-12">
            <div class="bg-white border-4 border-slate-900 p-6 rounded-[30px] shadow-[8px_8px_0px_rgba(0,0,0,1)]">
                <h3 class="text-xl font-black uppercase mb-4 text-center"><i class="fas fa-book-open mr-2 text-emerald-600"></i> Academia de Gramática: Quantificadores</h3>
                <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                    <button onclick="showGrammar('few')" class="heavy-btn bg-blue-100 p-3 rounded-xl font-black text-[10px] uppercase hover:bg-blue-200">Few / Many</button>
                    <button onclick="showGrammar('little')" class="heavy-btn bg-amber-100 p-3 rounded-xl font-black text-[10px] uppercase hover:bg-amber-200">Little / Much</button>
                    <button onclick="showGrammar('some')" class="heavy-btn bg-emerald-100 p-3 rounded-xl font-black text-[10px] uppercase hover:bg-emerald-200">Some / Any</button>
                    <button onclick="showGrammar('alot')" class="heavy-btn bg-slate-100 p-3 rounded-xl font-black text-[10px] uppercase hover:bg-slate-200">A lot of</button>
                    <button onclick="showGrammar('all')" class="heavy-btn bg-purple-100 p-3 rounded-xl font-black text-[10px] uppercase hover:bg-purple-200">Resumo</button>
                </div>
                <div id="grammar-display" class="mt-6 p-4 bg-slate-50 rounded-xl border-2 border-dashed border-slate-300 min-h-[80px] flex items-center justify-center text-center">
                    <p class="text-slate-400 font-bold italic">Selecione uma regra acima para ganhar XP e carregar a Batalha!</p>
                </div>
            </div>
        </section>

        <section id="sec-warmup" class="max-w-4xl mx-auto space-y-8">
            <div class="text-center">
                <h2 class="text-4xl font-black text-slate-800 uppercase">Prepare-se para o Combate</h2>
                <p class="text-slate-500 mt-2 font-bold">Gere exemplos reais para atingir 100% de XP de conhecimento.</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div onclick="generateExample('countable')" class="heavy-btn bg-white p-8 rounded-[30px] cursor-pointer hover:bg-blue-50">
                    <div class="flex items-center gap-4 mb-4">
                        <i class="fas fa-list-ol text-4xl text-blue-600"></i>
                        <h3 class="text-2xl font-black">Countable Power</h3>
                    </div>
                    <div id="example-countable" class="bg-blue-100 p-4 rounded-xl font-bold text-blue-800 italic mb-2 animate-pulse">
                        Clique para o primeiro exemplo...
                    </div>
                    <p class="text-xs font-black uppercase text-slate-400 tracking-widest">
                        <i class="fas fa-clone mr-1"></i> Bônus: Multiplique! Aceita números e o plural "S".
                    </p>
                </div>

                <div onclick="generateExample('uncountable')" class="heavy-btn bg-white p-8 rounded-[30px] cursor-pointer hover:bg-amber-50">
                    <div class="flex items-center gap-4 mb-4">
                        <i class="fas fa-water text-4xl text-amber-600"></i>
                        <h3 class="text-2xl font-black">Uncountable Mass</h3>
                    </div>
                    <div id="example-uncountable" class="bg-amber-100 p-4 rounded-xl font-bold text-amber-800 italic mb-2">
                        Clique para o primeiro exemplo...
                    </div>
                    <p class="text-xs font-black uppercase text-slate-400 tracking-widest">
                        <i class="fas fa-flask mr-1"></i> Estratégia: Incontáveis! Use unidades (cups/liters/slices).
                    </p>
                </div>
            </div>
        </section>

        <section id="sec-battle" class="hidden max-w-4xl mx-auto space-y-8">
            <div class="bg-slate-900 rounded-[50px] p-8 md:p-12 text-white border-4 border-yellow-400 shadow-[0_20px_50px_rgba(255,204,0,0.2)]">
                <div class="flex flex-col md:flex-row justify-between items-center mb-10 gap-6">
                    <div class="bg-slate-800 p-2 rounded-2xl flex border-2 border-slate-700">
                        <button id="btn-guerreiros" onclick="setGuild('guerreiros')" class="px-6 py-2 rounded-xl font-black text-xs uppercase bg-emerald-600">Guerreiros</button>
                        <button id="btn-valentes" onclick="setGuild('valentes')" class="px-6 py-2 rounded-xl font-black text-xs uppercase opacity-40">Valentes</button>
                    </div>
                    <div class="flex gap-4">
                        <div class="text-center px-4 border-r border-white/20">
                            <p class="text-[10px] font-black uppercase text-emerald-400">Guerreiros</p>
                            <p id="score-guerreiros" class="text-3xl font-black">0</p>
                        </div>
                        <div class="text-center px-4">
                            <p class="text-[10px] font-black uppercase text-yellow-400">Valentes</p>
                            <p id="score-valentes" class="text-3xl font-black">0</p>
                        </div>
                    </div>
                </div>

                <div class="text-center space-y-6">
                    <div id="hint-display" class="text-yellow-400 font-black uppercase tracking-widest italic text-lg bg-yellow-400/10 py-2 rounded-lg border border-yellow-400/20">Hint: ...</div>
                    
                    <div id="easy-hint" class="text-slate-400 text-sm font-bold bg-slate-800/50 py-1 px-4 rounded-full inline-block border border-white/10">
                        <i class="fas fa-life-ring mr-2"></i> Tradução: Carregando dica...
                    </div>

                    <div class="flex justify-center gap-3 flex-wrap" id="word-slots"></div>
                    
                    <div class="mt-12 grid grid-cols-7 md:grid-cols-9 gap-2" id="battle-keyboard"></div>
                    
                    <div class="mt-8 flex justify-center items-center gap-4">
                        <div class="bg-red-500/20 text-red-500 px-6 py-2 rounded-full font-black uppercase text-sm border border-red-500/50">
                            Tentativas: <span id="lives">6</span>
                        </div>
                        <div class="text-slate-400 font-bold text-xs uppercase">Questão <span id="q-num">1</span> de 16</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-900 text-white p-8 text-center border-t-8 border-yellow-400">
        <p class="font-black uppercase tracking-widest">Prof. Johnatan Willow Dias de Andrade</p>
        <p class="text-xs opacity-50 mt-1 uppercase">CEPI IRMÃ GABRIELA | Todos os direitos reservados 2026</p>
    </footer>

    <script>
        let xp = 0;
        let currentGuild = 'guerreiros';
        let scores = { guerreiros: 0, valentes: 0 };
        let currentQuestion = 0;
        let lives = 6;
        let pickedWord = "";
        let guessedLetters = [];

        const grammarTips = {
            few: "<strong>FEW / MANY:</strong> Usados com CONTÁVEIS. <br>Ex: 'Many friends' (muitos), 'Few dollars' (poucos).",
            little: "<strong>LITTLE / MUCH:</strong> Usados com INCONTÁVEIS. <br>Ex: 'Much water' (muita), 'Little money' (pouco).",
            some: "<strong>SOME vs ANY:</strong> 'Some' é usado em frases AFIRMATIVAS (I have some questions). <br>'Any' é usado em NEGATIVAS e PERGUNTAS (Do you have any questions?).",
            alot: "<strong>A LOT OF:</strong> O coringa! Pode ser usado com CONTÁVEIS e INCONTÁVEIS em qualquer frase.",
            all: "<strong>RECAPITULANDO:</strong> Contáveis aceitam plural e Many/Few. Incontáveis são massas/líquidos e aceitam Much/Little. Some (+) e Any (- / ?)."
        };

        const grammarDatabase = {
            countable: [
                "There are MANY students in the CEPI.", "I have SOME questions for you.", "How MANY books do you read a year?",
                "There aren't ANY laptops in the lab.", "We need several PIECES of paper.", "Ten CHAIRS were moved to the arena.",
                "A FEW apples are enough for the juice.", "I saw MANY people at the school gate.", "Three GLASSES of milk, please.",
                "There are MANY headsets available."
            ],
            uncountable: [
                "We need SOME information about the test.", "There isn't ANY salt in the popcorn.", "How MUCH money do we need for the trip?",
                "I gave her SOME advice yesterday.", "There is LITTLE water in the bottle.", "MUCH equipment was delivered today.",
                "The BREAD we eat is very fresh.", "I have A LOT OF homework tonight.", "LITTLE time was left for the battle.",
                "There is MUCH money in her account."
            ]
        };

        const battleBank = [
            {w: "INFORMATION", h: "I need some ____ about the CEPI.", ez: "Dica: Você usa para estudar (Informação)"},
            {w: "EQUIPMENT", h: "How much ____ do we have in the lab?", ez: "Dica: Máquinas e ferramentas (Equipamento)"},
            {w: "MONEY", h: "I don't have much ____ in my pocket.", ez: "Dica: Você usa para comprar coisas (Dinheiro)"},
            {w: "WATER", h: "There is a little ____ on the table.", ez: "Dica: Essencial para a vida, é um líquido (Água)"},
            {w: "BREAD", h: "We bought some fresh ____ for breakfast.", ez: "Dica: Comida de padaria, massa (Pão)"},
            {w: "ADVICE", h: "Let me give you some ____: study hard!", ez: "Dica: Quando alguém te dá um conselho (Conselho)"},
            {w: "KNOWLEDGE", h: "Reading books brings you ____.", ez: "Dica: O que fica na sua mente ao estudar (Conhecimento)"},
            {w: "HOMEWORK", h: "Did you finish your English ____?", ez: "Dica: Atividade para fazer em casa (Tarefa)"},
            {w: "COFFEE", h: "How much ____ do you drink daily?", ez: "Dica: Bebida preta e quente (Café)"},
            {w: "TIME", h: "We don't have much ____ to finish the game!", ez: "Dica: O relógio marca isso (Tempo)"},
            {w: "RICE", h: "There is a little ____ left in the pot.", ez: "Dica: Grão branco que comemos com feijão (Arroz)"},
            {w: "SALT", h: "Don't put too much ____ in the soup.", ez: "Dica: Tempero branco e salgado (Sal)"},
            {w: "CHEESE", h: "Would you like a little ____ on your pasta?", ez: "Dica: Derivado do leite, amarelo ou branco (Queijo)"},
            {w: "SAND", h: "There is much ____ on the beach.", ez: "Dica: Tem muita no deserto e na praia (Areia)"},
            {w: "RAIN", h: "We had much ____ last week.", ez: "Dica: Água que cai do céu (Chuva)"},
            {w: "ENERGY", h: "The students have a lot of ____!", ez: "Dica: Força para correr e brincar (Energia)"}
        ];

        function showGrammar(type) {
            const display = document.getElementById('grammar-display');
            display.innerHTML = `<p class="text-slate-700 font-bold">${grammarTips[type]}</p>`;
            xp = Math.min(xp + 5, 100);
            updateXPDisplay();
        }

        function changeTab(tab) {
            document.getElementById('sec-warmup').classList.toggle('hidden', tab !== 'warmup');
            document.getElementById('sec-battle').classList.toggle('hidden', tab !== 'battle');
            document.getElementById('grammar-base').classList.toggle('hidden', tab !== 'warmup');
            
            const btnWarm = document.getElementById('tab-warmup');
            const btnBattle = document.getElementById('tab-battle');
            
            if(tab === 'warmup') {
                btnWarm.classList.add('bg-emerald-600', 'text-white');
                btnWarm.classList.remove('opacity-30');
                btnBattle.classList.add('opacity-30');
                btnBattle.classList.remove('bg-emerald-600', 'text-white');
            } else {
                btnBattle.classList.add('bg-emerald-600', 'text-white');
                btnBattle.classList.remove('opacity-30');
                btnWarm.classList.add('opacity-30');
                btnWarm.classList.remove('bg-emerald-600', 'text-white');
                initBattle();
            }
        }

        function generateExample(type) {
            const list = grammarDatabase[type];
            const text = list[Math.floor(Math.random() * list.length)];
            const el = document.getElementById('example-' + type);
            el.innerText = text;
            el.classList.remove('animate-pulse');
            xp = Math.min(xp + 5, 100);
            updateXPDisplay();
        }

        function updateXPDisplay() {
            document.getElementById('xp-bar').style.width = xp + '%';
            document.getElementById('xp-val').innerText = xp + ' / 100';
        }

        function setGuild(guild) {
            currentGuild = guild;
            document.getElementById('btn-guerreiros').classList.toggle('opacity-40', guild !== 'guerreiros');
            document.getElementById('btn-guerreiros').classList.toggle('bg-emerald-600', guild === 'guerreiros');
            document.getElementById('btn-valentes').classList.toggle('opacity-40', guild !== 'valentes');
            document.getElementById('btn-valentes').classList.toggle('bg-yellow-600', guild === 'valentes');
        }

        function toggleGuild() {
            const nextGuild = currentGuild === 'guerreiros' ? 'valentes' : 'guerreiros';
            setGuild(nextGuild);
        }

        function initBattle() {
            const data = battleBank[currentQuestion];
            pickedWord = data.w;
            document.getElementById('hint-display').innerHTML = `<strong>QUESTÃO ${currentQuestion + 1}:</strong> "${data.h}"`;
            document.getElementById('easy-hint').innerHTML = `<i class="fas fa-life-ring mr-2"></i> ${data.ez}`;
            document.getElementById('q-num').innerText = currentQuestion + 1;
            guessedLetters = [];
            lives = 6;
            renderBattle();
        }

        function renderBattle() {
            document.getElementById('lives').innerText = lives;
            const slots = document.getElementById('word-slots');
            slots.innerHTML = "";
            let win = true;
            
            pickedWord.split('').forEach(l => {
                const div = document.createElement('div');
                div.className = "letter-slot";
                if(guessedLetters.includes(l)) {
                    div.innerText = l;
                } else {
                    div.innerText = "";
                    win = false;
                }
                slots.appendChild(div);
            });

            if(win) {
                setTimeout(handleWin, 200);
            } else if(lives <= 0) {
                setTimeout(handleLoss, 200);
            } else {
                renderKeyboard();
            }
        }

        function handleWin() {
            scores[currentGuild]++;
            document.getElementById('score-' + currentGuild).innerText = scores[currentGuild];
            alert(`PONTO PARA OS ${currentGuild.toUpperCase()}!`);
            currentQuestion++;
            if(currentQuestion < battleBank.length) {
                toggleGuild();
                initBattle();
            } else {
                alert("FIM DA BATALHA FINAL!");
            }
        }

        function handleLoss() {
            alert(`A palavra era ${pickedWord}. Próxima rodada!`);
            currentQuestion++;
            if(currentQuestion < battleBank.length) {
                toggleGuild();
                initBattle();
            } else {
                alert("FIM DA BATALHA!");
            }
        }

        function renderKeyboard() {
            const kb = document.getElementById('battle-keyboard');
            kb.innerHTML = "";
            "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('').forEach(l => {
                const btn = document.createElement('button');
                btn.innerText = l;
                btn.disabled = guessedLetters.includes(l);
                btn.className = `p-3 rounded-lg font-black text-xs ${btn.disabled ? 'bg-slate-800 text-slate-600' : 'bg-slate-100 text-slate-900 hover:bg-yellow-400'}`;
                btn.onclick = () => {
                    guessedLetters.push(l);
                    if(!pickedWord.includes(l)) lives--;
                    renderBattle();
                };
                kb.appendChild(btn);
            });
        }
    </script>
</body>
</html>