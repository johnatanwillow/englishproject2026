<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>If Clause Lab - Prof. Johnatan Willow</title>
    <style>
        :root {
            --primary: #818cf8; --secondary: #fbbf24; --bg: #0f172a; --card: #1e293b; --text: #f8fafc;
            --font-main: 1.6rem; --font-title: 2.5rem; --font-ui: 1.4rem;
        }

        body { 
            font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg); color: var(--text); 
            margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; line-height: 1.6;
        }

        header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid var(--primary); padding-bottom: 10px; width: 100%; max-width: 900px; }
        .copy-head { font-size: 0.9rem; opacity: 0.8; margin: 0; }

        h1 { font-size: var(--font-title); color: var(--secondary); margin: 10px 0; }

        /* Guia de ReferÃªncia RÃ¡pida */
        .info-panel {
            background: rgba(129, 140, 248, 0.1); border-radius: 15px; padding: 20px;
            max-width: 900px; width: 100%; margin-bottom: 25px; border-left: 5px solid var(--primary);
            font-size: 1.1rem;
        }
        .info-panel h2 { font-size: 1.4rem; margin-top: 0; color: var(--primary); }
        .info-panel ul { padding-left: 20px; margin: 0; }
        .info-panel li { margin-bottom: 8px; }

        /* Barra de Progresso Melhorada */
        .progress-map {
            display: flex; width: 100%; max-width: 900px; justify-content: space-between;
            margin: 30px 0; background: #334155; border-radius: 50px; padding: 5px; position: relative;
            border: 2px solid #475569;
        }
        .step { 
            flex: 1; text-align: center; font-size: 1rem; font-weight: 900; 
            opacity: 0.2; transition: all 0.4s ease; padding: 10px; border-radius: 50px;
        }
        .step.active { 
            opacity: 1; background: var(--primary); color: white; box-shadow: 0 0 15px var(--primary);
            transform: scale(1.05);
        }
        .step-label { display: block; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px; }

        .setup-container { 
            background: var(--card); padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); 
            max-width: 900px; width: 100%; text-align: center; margin-bottom: 30px; border: 2px solid #334155; 
        }

        .formula-builder { 
            display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 20px; 
            margin: 30px 0; font-size: var(--font-main); font-weight: bold; 
        }

        select { 
            padding: 15px; border-radius: 12px; background: #334155; color: white; 
            border: 3px solid var(--primary); font-size: var(--font-ui); cursor: pointer; min-width: 250px;
            outline: none;
        }

        .btn-start { 
            background: var(--secondary); color: #000; padding: 20px 50px; border-radius: 50px; border: none; 
            font-weight: 900; font-size: var(--font-main); cursor: pointer; transition: 0.3s; text-transform: uppercase; 
        }
        .btn-start:hover { background: #fff; transform: scale(1.05); }

        #quiz-area { 
            display: none; max-width: 800px; width: 100%; background: var(--card); padding: 40px; 
            border-radius: 25px; border: 3px solid var(--primary); margin-bottom: 50px;
        }

        #question-text { 
            font-size: 2rem; margin: 30px 0; font-weight: 600; background: rgba(255,255,255,0.05);
            padding: 25px; border-radius: 15px; border-left: 8px solid var(--secondary);
        }

        .options { display: flex; flex-direction: column; gap: 15px; }
        button.opt { 
            padding: 22px; border-radius: 12px; border: 2px solid #475569; background: #334155; 
            color: white; cursor: pointer; text-align: left; font-size: var(--font-main); font-weight: bold;
        }
        .correct { background: #059669 !important; border-color: #10b981 !important; color: white; }
        .wrong { background: #b91c1c !important; border-color: #ef4444 !important; color: white; }

        .nav-controls { display: flex; justify-content: space-between; margin-top: 40px; gap: 20px; }
        .nav-btn { 
            background: #475569; color: white; padding: 20px 40px; border-radius: 15px; 
            border: none; cursor: pointer; font-size: var(--font-ui); font-weight: bold; flex: 1;
        }
        .nav-btn:disabled { opacity: 0.15; cursor: not-allowed; }

        footer { margin-top: auto; padding: 20px; font-size: 1.1rem; opacity: 0.7; text-align: center; width: 100%; border-top: 1px solid #334155; }
    </style>
</head>
<body>
<a href="index.html" style="position:fixed; top:10px; left:10px; background:#1e293b; color:white; padding:10px; border-radius:5px; text-decoration:none; z-index:1000; font-size:12px;">â¬… Voltar ao Menu</a>
    <header>
        <p class="copy-head">&copy; 2026 Johnatan Willow - Prof. de InglÃªs CEPI IrmÃ£ Gabriela</p>
        <h1>ðŸ§ª If Clause Lab</h1>
    </header>

    <div class="info-panel">
        <h2>ðŸ“š Quick Reference Guide</h2>
        <ul>
            <li><strong>Zero Conditional (Facts):</strong> Verdades universais. Ex: Se a gente aquece a Ã¡gua, ela ferve a 100ÂºC .</li>
            <li><strong>1st Conditional (Probability):</strong> Possibilidades reais. Ex: Se chove neste fim de semana, certamente ficarei em casa.
            <li><strong>2nd Conditional (Hypothesis):</strong> ImaginaÃ§Ã£o/Desejos. Ex: Se eu ganhasse na loteria eu doaria 10% a causas sociais.</li>
            <li><strong>3rd Conditional (Regrets):</strong> Arrependimentos do passado. Ex: Se eu tivesse comprado aquela cartela de bingo, eu teria ganhando.</li>
        </ul>
    </div>

    <div class="progress-map" id="progressMap">
        <div class="step" id="step-0"><span class="step-label">0</span>FACTS</div>
        <div class="step" id="step-1"><span class="step-label">1st</span>PROBABILITY</div>
        <div class="step" id="step-2"><span class="step-label">2nd</span>HYPOTHESIS</div>
        <div class="step" id="step-3"><span class="step-label">3rd</span>REGRETS</div>
    </div>

    <div class="setup-container">
        <div class="formula-builder">
            <span>IF +</span>
            <select id="part1">
                <option value="">(escolha)</option>
                <option value="present">SIMPLE PRESENT</option>
                <option value="past">SIMPLE PAST</option>
                <option value="had">PAST PERFECT</option>
            </select>
            <span>>>></span>
            <select id="part2">
                <option value="">(escolha)</option>
                <option value="present">SIMPLE PRESENT</option>
                <option value="will">WILL (fut.) + VERB</option>
                <option value="would">WOULD + VERB</option>
                <option value="wouldhave">WOULD HAVE + Past Part.</option>
            </select>
        </div>
        <button class="btn-start" onclick="checkCombination()">Iniciar Quiz</button>
        <p id="msg" style="font-size: 1.3rem; margin-top: 15px; font-weight: bold;"></p>
    </div>

    <div id="quiz-area">
        <h3 id="quiz-title" style="color: var(--secondary); font-size: 2.2rem; text-decoration: underline;"></h3>
        <p id="question-text"></p>
        <div class="options" id="options-container"></div>
        <div class="nav-controls">
            <button class="nav-btn" id="prevBtn" onclick="prevQuestion()">â¬… Voltar</button>
            <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">PrÃ³ximo âž¡</button>
        </div>
        <p style="text-align: center; margin-top: 25px; font-size: 1.4rem; font-weight: bold;">
            Question <span id="q-num">1</span> of 5
        </p>
    </div>

    <footer>
        English Learning Lab &bull; Johnatan Willow Andrade &bull; 2026
    </footer>

<script>
const database = {
    "present-present": { step: 0, title: "Zero Conditional", questions: [
        { q: "If you heat ice, it ___.", a: ["melts", "will melt", "melted"], c: 0 },
        { q: "If children ___ hungry, they cry.", a: ["are", "will be", "were"], c: 0 },
        { q: "If you mix blue and yellow, you ___ green.", a: ["got", "get", "will get"], c: 1 },
        { q: "Plants die if it ___ rain.", a: ["don't", "doesn't", "didn't"], c: 1 },
        { q: "If I am late for work, my boss ___ angry.", a: ["gets", "got", "would get"], c: 0 }
    ]},
    "present-will": { step: 1, title: "First Conditional", questions: [
        { q: "If it rains, I ___ at home.", a: ["stay", "will stay", "would stay"], c: 1 },
        { q: "If you study, you ___ the test.", a: ["pass", "will pass", "passed"], c: 1 },
        { q: "I will call you if I ___ time.", a: ["have", "will have", "had"], c: 0 },
        { q: "If she ___ late, we will start.", a: ["is", "will be", "was"], c: 0 },
        { q: "If they don't hurry, they ___ the bus.", a: ["miss", "will miss", "missed"], c: 1 }
    ]},
    "past-would": { step: 2, title: "Second Conditional", questions: [
        { q: "If I ___ rich, I would buy a boat.", a: ["am", "was", "were"], c: 2 },
        { q: "If I won the lottery, I ___ the world.", a: ["travel", "will travel", "would travel"], c: 2 },
        { q: "If she ___ his number, she would call.", a: ["know", "knew", "known"], c: 1 },
        { q: "I would help you if I ___.", a: ["can", "could", "will can"], c: 1 },
        { q: "If it ___ today, we would ski.", a: ["snows", "snowed", "will snow"], c: 1 }
    ]},
    "had-wouldhave": { step: 3, title: "Third Conditional", questions: [
        { q: "If I ___ harder, I would have passed.", a: ["studied", "have studied", "had studied"], c: 2 },
        { q: "We ___ the train if we had left earlier.", a: ["wouldn't miss", "wouldn't have missed", "didn't miss"], c: 1 },
        { q: "If she had seen the map, she ___ lost.", a: ["wouldn't get", "wouldn't have got", "didn't get"], c: 1 },
        { q: "I would have helped if you ___ me.", a: ["ask", "asked", "had asked"], c: 2 },
        { q: "If they had invited us, we ___.", a: ["would have gone", "will go", "went"], c: 0 }
    ]}
};

let currentSet = [];
let currentIdx = 0;
let userAnswers = [];

function checkCombination() {
    const p1 = document.getElementById('part1').value;
    const p2 = document.getElementById('part2').value;
    const combo = `${p1}-${p2}`;
    const msg = document.getElementById('msg');
    
    document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
    
    if (database[combo]) {
        currentSet = database[combo];
        currentIdx = 0;
        userAnswers = new Array(5).fill(null);
        document.getElementById(`step-${currentSet.step}`).classList.add('active');
        msg.innerText = "âœ… Perfeito! Desafio desbloqueado.";
        msg.style.color = "#10b981";
        document.getElementById('quiz-area').style.display = 'block';
        document.getElementById('quiz-area').scrollIntoView({behavior: 'smooth'});
        renderQuestion();
    } else {
        msg.innerText = "âŒ Estrutura invÃ¡lida. Verifique o Guia de ReferÃªncia.";
        msg.style.color = "#fb7185";
        document.getElementById('quiz-area').style.display = 'none';
    }
}

function renderQuestion() {
    const q = currentSet.questions[currentIdx];
    document.getElementById('quiz-title').innerText = currentSet.title;
    document.getElementById('question-text').innerText = `${currentIdx + 1}. ${q.q}`;
    document.getElementById('q-num').innerText = currentIdx + 1;
    const container = document.getElementById('options-container');
    container.innerHTML = "";
    
    q.a.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.className = 'opt';
        if (userAnswers[currentIdx] !== null) {
            if (i === q.c) btn.classList.add('correct');
            else if (i === userAnswers[currentIdx]) btn.classList.add('wrong');
            btn.disabled = true;
        }
        btn.innerText = opt;
        btn.onclick = () => { userAnswers[currentIdx] = i; renderQuestion(); };
        container.appendChild(btn);
    });

    document.getElementById('prevBtn').disabled = currentIdx === 0;
    document.getElementById('nextBtn').disabled = userAnswers[currentIdx] === null || currentIdx === 4;
}

function nextQuestion() { if (currentIdx < 4) { currentIdx++; renderQuestion(); } }
function prevQuestion() { if (currentIdx > 0) { currentIdx--; renderQuestion(); } }
</script>
</body>
</html>